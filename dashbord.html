<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2685.4">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 26.0px; font: 20.0px Arial; color: #0a0a0a; -webkit-text-stroke: #0a0a0a}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 22.0px; font: 15.3px Arial; color: #0a0a0a; -webkit-text-stroke: #0a0a0a}
    p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 22.0px; font: 15.3px Arial; color: #7f0be0; -webkit-text-stroke: #7f0be0}
    p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; line-height: 22.0px; font: 15.3px Arial; color: #18702b; -webkit-text-stroke: #18702b}
    p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 16.0px Helvetica; color: #000000; -webkit-text-stroke: #000000}
    span.s1 {font-kerning: none}
    span.s2 {font-kerning: none; color: #7f0be0; -webkit-text-stroke: 0px #7f0be0}
    span.s3 {font-kerning: none; color: #18702b; -webkit-text-stroke: 0px #18702b}
    span.s4 {font-kerning: none; color: #0a0a0a; -webkit-text-stroke: 0px #0a0a0a}
    span.s5 {font-kerning: none; color: #a3450b; -webkit-text-stroke: 0px #a3450b}
    span.s6 {font: 15.3px 'Apple Color Emoji'; font-kerning: none}
  </style>
</head>
<body>
<p class="p1"><span class="s1">html</span></p>
<p class="p2"><span class="s1">&lt;!DOCTYPE html&gt;</span></p>
<p class="p2"><span class="s1">&lt;</span><span class="s2">html</span><span class="s1"> lang=</span><span class="s3">"fr"</span><span class="s1">&gt;</span></p>
<p class="p3"><span class="s4">&lt;</span><span class="s1">head</span><span class="s4">&gt;</span></p>
<p class="p2"><span class="s1">Â Â Â  &lt;</span><span class="s2">meta</span><span class="s1"> charset=</span><span class="s3">"UTF-8"</span><span class="s1">&gt;</span></p>
<p class="p2"><span class="s1">Â Â Â  &lt;</span><span class="s2">title</span><span class="s1">&gt;Tableau de Bord - Correction Professeur&lt;/</span><span class="s2">title</span><span class="s1">&gt;</span></p>
<p class="p2"><span class="s1">Â Â Â  &lt;</span><span class="s2">style</span><span class="s1">&gt;</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â  body { font-family: </span><span class="s3">'Segoe UI'</span><span class="s1">, Tahoma, Geneva, Verdana, sans-serif; display: flex; height: </span><span class="s5">100</span><span class="s1">vh; margin: </span><span class="s5">0</span><span class="s1">; background: #f</span><span class="s5">0f2f5</span><span class="s1">; }</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â <span class="Apple-converted-space">Â </span></span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â  /* Liste des Ã©tudiants Ã  gauche */</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â  #sidebar { width: </span><span class="s5">350</span><span class="s1">px; border-right: </span><span class="s5">1</span><span class="s1">px solid #ddd; background: white; overflow-y: auto; box-shadow: </span><span class="s5">2</span><span class="s1">px </span><span class="s5">0</span><span class="s1"> </span><span class="s5">5</span><span class="s1">px rgba(</span><span class="s5">0</span><span class="s1">,</span><span class="s5">0</span><span class="s1">,</span><span class="s5">0</span><span class="s1">,</span><span class="s5">0.05</span><span class="s1">); }</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â  .sidebar-header { padding: </span><span class="s5">20</span><span class="s1">px; background: #</span><span class="s5">007</span><span class="s1">bff; color: white; position: sticky; top: </span><span class="s5">0</span><span class="s1">; }</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â  .student-item { padding: </span><span class="s5">15</span><span class="s1">px; border-bottom: </span><span class="s5">1</span><span class="s1">px solid #eee; cursor: pointer; transition: </span><span class="s5">0.2</span><span class="s1">s; }</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â  .student-item:hover { background: #f</span><span class="s5">8f9f</span><span class="s1">a; border-left: </span><span class="s5">4</span><span class="s1">px solid #</span><span class="s5">007</span><span class="s1">bff; }</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â  .student-item.active { background: #e</span><span class="s5">7f1f</span><span class="s1">f; border-left: </span><span class="s5">4</span><span class="s1">px solid #</span><span class="s5">007</span><span class="s1">bff; }</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â  .date { font-size: </span><span class="s5">0.8</span><span class="s1">em; color: #</span><span class="s5">888</span><span class="s1">; display: block; }</span></p>
<p class="p2"><span class="s1">Â </span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â  /* Zone de visualisation Ã  droite */</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â  #main-view { flex-grow: </span><span class="s5">1</span><span class="s1">; display: flex; flex-direction: column; overflow-y: auto; padding: </span><span class="s5">30</span><span class="s1">px; }</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â  .card { background: white; padding: </span><span class="s5">20</span><span class="s1">px; border-radius: </span><span class="s5">10</span><span class="s1">px; box-shadow: </span><span class="s5">0</span><span class="s1"> </span><span class="s5">2</span><span class="s1">px </span><span class="s5">10</span><span class="s1">px rgba(</span><span class="s5">0</span><span class="s1">,</span><span class="s5">0</span><span class="s1">,</span><span class="s5">0</span><span class="s1">,</span><span class="s5">0.1</span><span class="s1">); margin-bottom: </span><span class="s5">20</span><span class="s1">px; }</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â <span class="Apple-converted-space">Â </span></span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â  /* Lecteur VidÃ©o */</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â  .video-wrapper { position: relative; padding-bottom: </span><span class="s5">56.25</span><span class="s1">%; height: </span><span class="s5">0</span><span class="s1">; overflow: hidden; background: #</span><span class="s5">000</span><span class="s1">; border-radius: </span><span class="s5">8</span><span class="s1">px; }</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â  .video-wrapper iframe { position: absolute; top: </span><span class="s5">0</span><span class="s1">; left: </span><span class="s5">0</span><span class="s1">; width: </span><span class="s5">100</span><span class="s1">%; height: </span><span class="s5">100</span><span class="s1">%; }</span></p>
<p class="p2"><span class="s1">Â </span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â  /* Grille d'analyse */</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â  pre { background: #</span><span class="s5">272822</span><span class="s1">; color: #f</span><span class="s5">8f8f2</span><span class="s1">; padding: </span><span class="s5">15</span><span class="s1">px; border-radius: </span><span class="s5">5</span><span class="s1">px; overflow-x: auto; white-space: pre-wrap; word-wrap: break-word; }</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â <span class="Apple-converted-space">Â </span></span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â  /* Zone de feedback */</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â  textarea { width: </span><span class="s5">100</span><span class="s1">%; height: </span><span class="s5">150</span><span class="s1">px; border: </span><span class="s5">1</span><span class="s1">px solid #ccc; border-radius: </span><span class="s5">5</span><span class="s1">px; padding: </span><span class="s5">10</span><span class="s1">px; font-size: </span><span class="s5">1</span><span class="s1">em; box-sizing: border-box; }</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â  #save-btn { margin-top: </span><span class="s5">10</span><span class="s1">px; padding: </span><span class="s5">12</span><span class="s1">px </span><span class="s5">25</span><span class="s1">px; background: #</span><span class="s5">28</span><span class="s1">a</span><span class="s5">745</span><span class="s1">; color: white; border: none; border-radius: </span><span class="s5">5</span><span class="s1">px; cursor: pointer; font-weight: bold; }</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â  #save-btn:hover { background: #</span><span class="s5">218838</span><span class="s1">; }</span></p>
<p class="p2"><span class="s1">Â Â Â  &lt;/</span><span class="s2">style</span><span class="s1">&gt;</span></p>
<p class="p3"><span class="s4">&lt;/</span><span class="s1">head</span><span class="s4">&gt;</span></p>
<p class="p3"><span class="s4">&lt;</span><span class="s1">body</span><span class="s4">&gt;</span></p>
<p class="p2"><span class="s1">Â </span></p>
<p class="p2"><span class="s1">Â Â Â  &lt;</span><span class="s2">div</span><span class="s1"> id=</span><span class="s3">"sidebar"</span><span class="s1">&gt;</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â  &lt;</span><span class="s2">div</span><span class="s1"> class=</span><span class="s3">"sidebar-header"</span><span class="s1">&gt;</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â  &lt;</span><span class="s2">h2</span><span class="s1">&gt;Analyses reÃ§ues&lt;/</span><span class="s2">h2</span><span class="s1">&gt;</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â  &lt;</span><span class="s2">button</span><span class="s1"> onclick=</span><span class="s3">"fetchData()"</span><span class="s1"> style=</span><span class="s3">"cursor:pointer;"</span><span class="s1">&gt;</span><span class="s6">ğŸ”„</span><span class="s1"> RafraÃ®chir&lt;/</span><span class="s2">button</span><span class="s1">&gt;</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â  &lt;/</span><span class="s2">div</span><span class="s1">&gt;</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â  &lt;</span><span class="s2">div</span><span class="s1"> id=</span><span class="s3">"student-list"</span><span class="s1">&gt;Chargement des donnÃ©es...&lt;/</span><span class="s2">div</span><span class="s1">&gt;</span></p>
<p class="p2"><span class="s1">Â Â Â  &lt;/</span><span class="s2">div</span><span class="s1">&gt;</span></p>
<p class="p2"><span class="s1">Â </span></p>
<p class="p4"><span class="s4">Â Â Â  &lt;</span><span class="s2">div</span><span class="s4"> id=</span><span class="s1">"main-view"</span><span class="s4">&gt;</span></p>
<p class="p4"><span class="s4">Â Â Â Â Â Â Â  &lt;</span><span class="s2">div</span><span class="s4"> id=</span><span class="s1">"welcome-message"</span><span class="s4">&gt;</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â  &lt;</span><span class="s2">h1</span><span class="s1">&gt;Bienvenue dans votre espace de correction&lt;/</span><span class="s2">h1</span><span class="s1">&gt;</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â  &lt;</span><span class="s2">p</span><span class="s1">&gt;SÃ©lectionnez un Ã©tudiant dans la liste de gauche pour dÃ©buter l'analyse.&lt;/</span><span class="s2">p</span><span class="s1">&gt;</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â  &lt;/</span><span class="s2">div</span><span class="s1">&gt;</span></p>
<p class="p2"><span class="s1">Â </span></p>
<p class="p4"><span class="s4">Â Â Â Â Â Â Â  &lt;</span><span class="s2">div</span><span class="s4"> id=</span><span class="s1">"correction-interface"</span><span class="s4"> style=</span><span class="s1">"display:none;"</span><span class="s4">&gt;</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â  &lt;</span><span class="s2">h1</span><span class="s1"> id=</span><span class="s3">"display-name"</span><span class="s1">&gt;Nom de l'Ã©tudiant&lt;/</span><span class="s2">h1</span><span class="s1">&gt;</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â <span class="Apple-converted-space">Â </span></span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â  &lt;</span><span class="s2">div</span><span class="s1"> class=</span><span class="s3">"card"</span><span class="s1">&gt;</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  &lt;</span><span class="s2">h3</span><span class="s1">&gt;</span><span class="s6">ğŸ¥</span><span class="s1"> VidÃ©o d'analyse&lt;/</span><span class="s2">h3</span><span class="s1">&gt;</span></p>
<p class="p4"><span class="s4">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  &lt;</span><span class="s2">div</span><span class="s4"> id=</span><span class="s1">"video-placeholder"</span><span class="s4"> class=</span><span class="s1">"video-wrapper"</span><span class="s4">&gt;&lt;/</span><span class="s2">div</span><span class="s4">&gt;</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â  Â Â Â &lt;/</span><span class="s2">div</span><span class="s1">&gt;</span></p>
<p class="p2"><span class="s1">Â </span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â  &lt;</span><span class="s2">div</span><span class="s1"> class=</span><span class="s3">"card"</span><span class="s1">&gt;</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  &lt;</span><span class="s2">h3</span><span class="s1">&gt;</span><span class="s6">ğŸ“Š</span><span class="s1"> Choix du logigramme (DonnÃ©es JSON)&lt;/</span><span class="s2">h3</span><span class="s1">&gt;</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  &lt;</span><span class="s2">pre</span><span class="s1"> id=</span><span class="s3">"display-choices"</span><span class="s1">&gt;&lt;/</span><span class="s2">pre</span><span class="s1">&gt;</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  &lt;</span><span class="s2">p</span><span class="s1">&gt;&lt;</span><span class="s2">strong</span><span class="s1">&gt;Commentaire Ã©tudiant :&lt;/</span><span class="s2">strong</span><span class="s1">&gt;&lt;/</span><span class="s2">p</span><span class="s1">&gt;</span></p>
<p class="p4"><span class="s4">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  &lt;</span><span class="s2">div</span><span class="s4"> id=</span><span class="s1">"display-comment"</span><span class="s4"> style=</span><span class="s1">"font-style: italic; color: #444; border-left: 3px solid #ccc; padding-left: 10px;"</span><span class="s4">&gt;&lt;/</span><span class="s2">div</span><span class="s4">&gt;</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â  &lt;/</span><span class="s2">div</span><span class="s1">&gt;</span></p>
<p class="p2"><span class="s1">Â </span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â  &lt;</span><span class="s2">div</span><span class="s1"> class=</span><span class="s3">"card"</span><span class="s1">&gt;</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  &lt;</span><span class="s2">h3</span><span class="s1">&gt;</span><span class="s6">ğŸ“</span><span class="s1"> Votre Correction / Feedback&lt;/</span><span class="s2">h3</span><span class="s1">&gt;</span></p>
<p class="p4"><span class="s4">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  &lt;</span><span class="s2">textarea</span><span class="s4"> id=</span><span class="s1">"teacher-feedback"</span><span class="s4"> placeholder=</span><span class="s1">"Inscrivez vos commentaires pour l'Ã©tudiant..."</span><span class="s4">&gt;&lt;/</span><span class="s2">textarea</span><span class="s4">&gt;</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  &lt;</span><span class="s2">button</span><span class="s1"> id=</span><span class="s3">"save-btn"</span><span class="s1">&gt;</span><span class="s6">âœ…</span><span class="s1"> Enregistrer la correction&lt;/</span><span class="s2">button</span><span class="s1">&gt;</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â  &lt;/</span><span class="s2">div</span><span class="s1">&gt;</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â  &lt;/</span><span class="s2">div</span><span class="s1">&gt;</span></p>
<p class="p2"><span class="s1">Â Â Â  &lt;/</span><span class="s2">div</span><span class="s1">&gt;</span></p>
<p class="p2"><span class="s1">Â </span></p>
<p class="p2"><span class="s1">Â Â Â  &lt;</span><span class="s2">script</span><span class="s1"> type=</span><span class="s3">"module"</span><span class="s1">&gt;</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â  import { createClient } from </span><span class="s3">'https://cdn.jsdelivr.net'</span></p>
<p class="p2"><span class="s1">Â </span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â  // CONFIGURATION SUPABASE (Ã€ REMPLIR)</span></p>
<p class="p4"><span class="s4">Â Â Â Â Â Â Â  const SUPABASE_URL = </span><span class="s1">'https://wvmsigeoqmrihsisrfnj.supabase.co'</span></p>
<p class="p4"><span class="s4">Â Â Â Â Â Â Â  const SUPABASE_KEY = </span><span class="s1">'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind2bXNpZ2VvcW1yaWhzaXNyZm5qIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzIxNTczMjcsImV4cCI6MjA4NzczMzMyN30.bIVeDCh8ULtyICJv8oZfLiE1pi3bNS0h3L2JGgvfFBU'</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â  const supabase = createClient(SUPABASE_URL, SUPABASE_KEY)</span></p>
<p class="p2"><span class="s1">Â </span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â  let selectedAnalysisId = null;</span></p>
<p class="p2"><span class="s1">Â </span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â  // </span><span class="s5">1</span><span class="s1">. Charger la liste des Ã©tudiants</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â  async function fetchData() {</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â  const listContainer = document.getElementById(</span><span class="s3">'student-list'</span><span class="s1">);</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â  const { data, error } = await supabase</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  .from(</span><span class="s3">'analyses'</span><span class="s1">)</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  .select(</span><span class="s3">'*'</span><span class="s1">)</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  .order(</span><span class="s3">'created_at'</span><span class="s1">, { ascending: false });</span></p>
<p class="p2"><span class="s1">Â </span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â  if (error) {</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  listContainer.innerText = </span><span class="s3">"Erreur de chargement : "</span><span class="s1"> + error.message;</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  return;</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â  }</span></p>
<p class="p2"><span class="s1">Â </span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â  if (data.length === </span><span class="s5">0</span><span class="s1">) {</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  listContainer.innerText = </span><span class="s3">"Aucune analyse reÃ§ue pour le moment."</span><span class="s1">;</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  return;</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â  }</span></p>
<p class="p2"><span class="s1">Â </span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â  listContainer.innerHTML = </span><span class="s3">""</span><span class="s1">;</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â  data.forEach(item =&gt; {</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  const dateObj = new Date(item.created_at).toLocaleDateString(</span><span class="s3">'fr-CA'</span><span class="s1">);</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  const div = document.createElement(</span><span class="s3">'div'</span><span class="s1">);</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  div.className = </span><span class="s3">"student-item"</span><span class="s1">;</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  div.innerHTML = `&lt;</span><span class="s2">strong</span><span class="s1">&gt;${item.student_name}&lt;/</span><span class="s2">strong</span><span class="s1">&gt; &lt;</span><span class="s2">span</span><span class="s1"> class=</span><span class="s3">"date"</span><span class="s1">&gt;${dateObj}&lt;/</span><span class="s2">span</span><span class="s1">&gt;`;</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  div.onclick = () =&gt; showStudentDetails(item);</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  listContainer.appendChild(div);</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â  });</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â  }</span></p>
<p class="p2"><span class="s1">Â </span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â  // </span><span class="s5">2</span><span class="s1">. Afficher les dÃ©tails d'un Ã©tudiant</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â  function showStudentDetails(item) {</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â  selectedAnalysisId = item.id;</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â <span class="Apple-converted-space">Â </span></span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â  // Masquer message bienvenue, afficher interface</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â  document.getElementById(</span><span class="s3">'welcome-message'</span><span class="s1">).style.display = </span><span class="s3">"none"</span><span class="s1">;</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â  document.getElementById(</span><span class="s3">'correction-interface'</span><span class="s1">).style.display = </span><span class="s3">"block"</span><span class="s1">;</span></p>
<p class="p2"><span class="s1">Â </span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â  // Remplir les textes</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â  document.getElementById(</span><span class="s3">'display-name'</span><span class="s1">).innerText = item.student_name;</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â  document.getElementById(</span><span class="s3">'display-comment'</span><span class="s1">).innerText = item.student_comment || </span><span class="s3">"Aucun commentaire."</span><span class="s1">;</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â  document.getElementById(</span><span class="s3">'display-choices'</span><span class="s1">).innerText = JSON.stringify(item.choices_json, null, </span><span class="s5">2</span><span class="s1">);</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â  document.getElementById(</span><span class="s3">'teacher-feedback'</span><span class="s1">).value = item.teacher_feedback || </span><span class="s3">""</span><span class="s1">;</span></p>
<p class="p2"><span class="s1">Â </span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â  // IntÃ©grer la vidÃ©o YouTube</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â  let videoId = extractYouTubeId(item.video_url);</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â  if (videoId) {</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  document.getElementById(</span><span class="s3">'video-placeholder'</span><span class="s1">).innerHTML = `&lt;</span><span class="s2">iframe</span><span class="s1"> src=</span><span class="s3">"https://www.youtube.com{videoId}"</span><span class="s1"> allowfullscreen&gt;&lt;/</span><span class="s2">iframe</span><span class="s1">&gt;`;</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â  } else {</span></p>
<p class="p4"><span class="s4">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  document.getElementById(</span><span class="s1">'video-placeholder'</span><span class="s4">).innerHTML = </span><span class="s1">"&lt;p style='color:white; padding:20px;'&gt;Lien vidÃ©o invalide.&lt;/p&gt;"</span><span class="s4">;</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â  }</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â  }</span></p>
<p class="p2"><span class="s1">Â </span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â  // </span><span class="s5">3</span><span class="s1">. Extraire ID YouTube</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â  function extractYouTubeId(url) {</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â  const regExp = /^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&amp;v=)([^#\&amp;\?]*).*/;</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â  const match = url.match(regExp);</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â  return (match &amp;&amp; match[</span><span class="s5">2</span><span class="s1">].length == </span><span class="s5">11</span><span class="s1">) ? match[</span><span class="s5">2</span><span class="s1">] : null;</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â  }</span></p>
<p class="p2"><span class="s1">Â </span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â  // </span><span class="s5">4</span><span class="s1">. Enregistrer le feedback</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â  document.getElementById(</span><span class="s3">'save-btn'</span><span class="s1">).onclick = async () =&gt; {</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â  const feedbackText = document.getElementById(</span><span class="s3">'teacher-feedback'</span><span class="s1">).value;</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â <span class="Apple-converted-space">Â </span></span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â  const { error } = await supabase</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  .from(</span><span class="s3">'analyses'</span><span class="s1">)</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  .update({ teacher_feedback: feedbackText })</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  .eq(</span><span class="s3">'id'</span><span class="s1">, selectedAnalysisId);</span></p>
<p class="p2"><span class="s1">Â </span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â  if (error) {</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  alert(</span><span class="s3">"Erreur lors de la sauvegarde : "</span><span class="s1"> + error.message);</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â  } else {</span></p>
<p class="p4"><span class="s4">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  alert(</span><span class="s1">"Correction enregistrÃ©e avec succÃ¨s !"</span><span class="s4">);</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â Â Â Â Â  fetchData(); // RafraÃ®chir la liste</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â Â Â Â Â  }</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â  };</span></p>
<p class="p2"><span class="s1">Â </span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â  // Lancement initial</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â  window.fetchData = fetchData;</span></p>
<p class="p2"><span class="s1">Â Â Â Â Â Â Â  fetchData();</span></p>
<p class="p2"><span class="s1">Â Â Â  &lt;/</span><span class="s2">script</span><span class="s1">&gt;</span></p>
<p class="p3"><span class="s4">&lt;/</span><span class="s1">body</span><span class="s4">&gt;</span></p>
<p class="p3"><span class="s4">&lt;/</span><span class="s1">html</span><span class="s4">&gt;</span></p>
<p class="p5"><span class="s1">Â </span></p>
</body>
</html>
